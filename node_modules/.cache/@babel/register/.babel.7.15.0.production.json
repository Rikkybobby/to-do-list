{
  "{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\ricar\\\\OneDrive\\\\Programming\\\\Fullstack Angela course\\\\Projects\\\\TODOLIST-v2\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"configFile\":false,\"cwd\":\"C:\\\\Users\\\\ricar\\\\OneDrive\\\\Programming\\\\Fullstack Angela course\\\\Projects\\\\TODOLIST-v2\",\"filename\":\"C:\\\\Users\\\\ricar\\\\OneDrive\\\\Programming\\\\Fullstack Angela course\\\\Projects\\\\TODOLIST-v2\\\\app.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"production\",\"root\":\"C:\\\\Users\\\\ricar\\\\OneDrive\\\\Programming\\\\Fullstack Angela course\\\\Projects\\\\TODOLIST-v2\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"}},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.15.0:production": {
    "metadata": {},
    "options": {
      "assumptions": {},
      "sourceRoot": "C:\\Users\\ricar\\OneDrive\\Programming\\Fullstack Angela course\\Projects\\TODOLIST-v2\\",
      "caller": {
        "name": "@babel/node"
      },
      "configFile": false,
      "cwd": "C:\\Users\\ricar\\OneDrive\\Programming\\Fullstack Angela course\\Projects\\TODOLIST-v2",
      "filename": "C:\\Users\\ricar\\OneDrive\\Programming\\Fullstack Angela course\\Projects\\TODOLIST-v2\\app.js",
      "targets": {},
      "cloneInputAst": true,
      "babelrc": false,
      "browserslistConfigFile": false,
      "envName": "production",
      "root": "C:\\Users\\ricar\\OneDrive\\Programming\\Fullstack Angela course\\Projects\\TODOLIST-v2",
      "rootMode": "root",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "proposal-private-property-in-object",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "BinaryExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "loose": "#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error"
          }
        },
        {
          "key": "syntax-class-properties",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-nullish-coalescing-operator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": true,
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            },
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "C:\\Users\\ricar\\OneDrive\\Programming\\Fullstack Angela course\\Projects\\TODOLIST-v2\\app.js",
        "plugins": [
          "privateIn",
          "classProperties",
          "classPrivateProperties",
          "classPrivateMethods",
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "dynamicImport",
          "exportNamespaceFrom"
        ]
      },
      "generatorOpts": {
        "filename": "C:\\Users\\ricar\\OneDrive\\Programming\\Fullstack Angela course\\Projects\\TODOLIST-v2\\app.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "C:\\Users\\ricar\\OneDrive\\Programming\\Fullstack Angela course\\Projects\\TODOLIST-v2\\",
        "sourceFileName": "app.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\n//jshint esversion:6\nconst express = require(\"express\");\n\nconst bodyParser = require(\"body-parser\");\n\nconst mongoose = require(\"mongoose\");\n\nconst app = express();\napp.set('view engine', 'ejs');\napp.use(bodyParser.urlencoded({\n  extended: true\n}));\napp.use(express.static(\"public\"));\nmongoose.connect(\"mongodb://localhost:27017/todolistDB\"); //creating Schema\n\nconst itemSchema = new mongoose.Schema({\n  name: String\n}); //creating model\n\nconst Item = mongoose.model(\"Item\", itemSchema);\nconst item1 = new Item({\n  name: \"Welcome to your to do list.\"\n});\nconst item2 = new Item({\n  name: \"Hit the + button to add a new item.\"\n});\nconst item3 = new Item({\n  name: \"Hit this to delete an item\"\n});\nconst defaultItems = [item1, item2, item3];\nconst listSchema = new mongoose.Schema({\n  name: String,\n  items: [itemSchema]\n});\nconst List = mongoose.model(\"List\", listSchema); // setTimeout(() => {mongoose.connection.close()}, 3000);\n\napp.get(\"/\", function (req, res) {\n  Item.find(function (err, foundItems) {\n    if (foundItems.length === 0) {\n      Item.insertMany(defaultItems, function (err) {\n        if (err) {\n          console.log(err);\n        } else {\n          console.log(\"Items added\");\n        }\n      });\n      res.redirect(\"/\");\n    } else {\n      res.render(\"list\", {\n        listTitle: \"Today\",\n        newListItems: foundItems\n      });\n    }\n  });\n}); //creating routes by capturing route parameters\n\napp.get(\"/:customListName\", function (req, res) {\n  const customListName = req.params.customListName;\n  List.findOne({\n    name: customListName\n  }, function (err, foundList) {\n    if (!err) {\n      if (!foundList) {\n        //create a new list\n        const list = new List({\n          name: customListName,\n          items: defaultItems\n        });\n        list.save();\n        res.redirect(\"/\" + customListName);\n      } else {\n        //show an existing list\n        res.render(\"list\", {\n          listTitle: foundList.name,\n          newListItems: foundList.items\n        });\n      }\n    }\n  });\n});\napp.post(\"/\", function (req, res) {\n  const itemName = req.body.newItem; //access to kistTitle by adding a  value to the button see list.ejs 19\n\n  const listName = req.body.list;\n  const item = new Item({\n    name: itemName\n  });\n\n  if (listName === \"Today\") {\n    item.save();\n    res.redirect(\"/\");\n  } else {\n    List.findOne({\n      name: listName\n    }, function (err, foundList) {\n      foundList.items.push(item);\n      foundList.save();\n      res.redirect(\"/\" + listName);\n    });\n  }\n});\napp.post(\"/delete\", function (req, res) {\n  const checkedItemId = req.body.checkbox;\n  const listName = req.body.listName;\n\n  if (listName === \"Today\") {\n    Item.findByIdAndRemove(checkedItemId, function (err) {\n      if (!err) {\n        console.log(\"Successfully removed item\");\n        res.redirect(\"/\");\n      }\n    });\n  } else {}\n}); // app.get(\"/work\", function(req, res) {\n//   res.render(\"list\", {listTitle: \"Work List\",newListItems: workItems});\n// });\n\napp.get(\"/about\", function (req, res) {\n  res.render(\"about\");\n});\napp.listen(3000, function () {\n  console.log(\"Server started on port 3000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImJvZHlQYXJzZXIiLCJtb25nb29zZSIsImFwcCIsInNldCIsInVzZSIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsInN0YXRpYyIsImNvbm5lY3QiLCJpdGVtU2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsIlN0cmluZyIsIkl0ZW0iLCJtb2RlbCIsIml0ZW0xIiwiaXRlbTIiLCJpdGVtMyIsImRlZmF1bHRJdGVtcyIsImxpc3RTY2hlbWEiLCJpdGVtcyIsIkxpc3QiLCJnZXQiLCJyZXEiLCJyZXMiLCJmaW5kIiwiZXJyIiwiZm91bmRJdGVtcyIsImxlbmd0aCIsImluc2VydE1hbnkiLCJjb25zb2xlIiwibG9nIiwicmVkaXJlY3QiLCJyZW5kZXIiLCJsaXN0VGl0bGUiLCJuZXdMaXN0SXRlbXMiLCJjdXN0b21MaXN0TmFtZSIsInBhcmFtcyIsImZpbmRPbmUiLCJmb3VuZExpc3QiLCJsaXN0Iiwic2F2ZSIsInBvc3QiLCJpdGVtTmFtZSIsImJvZHkiLCJuZXdJdGVtIiwibGlzdE5hbWUiLCJpdGVtIiwicHVzaCIsImNoZWNrZWRJdGVtSWQiLCJjaGVja2JveCIsImZpbmRCeUlkQW5kUmVtb3ZlIiwibGlzdGVuIl0sIm1hcHBpbmdzIjoiOztBQUFBO0FBRUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBRCxDQUF2Qjs7QUFDQSxNQUFNQyxVQUFVLEdBQUdELE9BQU8sQ0FBQyxhQUFELENBQTFCOztBQUNBLE1BQU1FLFFBQVEsR0FBR0YsT0FBTyxDQUFDLFVBQUQsQ0FBeEI7O0FBQ0EsTUFBTUcsR0FBRyxHQUFHSixPQUFPLEVBQW5CO0FBRUFJLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGFBQVIsRUFBdUIsS0FBdkI7QUFFQUQsR0FBRyxDQUFDRSxHQUFKLENBQVFKLFVBQVUsQ0FBQ0ssVUFBWCxDQUFzQjtBQUM1QkMsRUFBQUEsUUFBUSxFQUFFO0FBRGtCLENBQXRCLENBQVI7QUFHQUosR0FBRyxDQUFDRSxHQUFKLENBQVFOLE9BQU8sQ0FBQ1MsTUFBUixDQUFlLFFBQWYsQ0FBUjtBQUVBTixRQUFRLENBQUNPLE9BQVQsQ0FBaUIsc0NBQWpCLEUsQ0FFQTs7QUFDQSxNQUFNQyxVQUFVLEdBQUcsSUFBSVIsUUFBUSxDQUFDUyxNQUFiLENBQW9CO0FBQ3JDQyxFQUFBQSxJQUFJLEVBQUVDO0FBRCtCLENBQXBCLENBQW5CLEMsQ0FHQTs7QUFDQSxNQUFNQyxJQUFJLEdBQUdaLFFBQVEsQ0FBQ2EsS0FBVCxDQUFlLE1BQWYsRUFBdUJMLFVBQXZCLENBQWI7QUFFQSxNQUFNTSxLQUFLLEdBQUcsSUFBSUYsSUFBSixDQUFTO0FBQ3JCRixFQUFBQSxJQUFJLEVBQUU7QUFEZSxDQUFULENBQWQ7QUFJQSxNQUFNSyxLQUFLLEdBQUcsSUFBSUgsSUFBSixDQUFTO0FBQ3JCRixFQUFBQSxJQUFJLEVBQUU7QUFEZSxDQUFULENBQWQ7QUFJQSxNQUFNTSxLQUFLLEdBQUcsSUFBSUosSUFBSixDQUFTO0FBQ3JCRixFQUFBQSxJQUFJLEVBQUU7QUFEZSxDQUFULENBQWQ7QUFJQSxNQUFNTyxZQUFZLEdBQUcsQ0FBQ0gsS0FBRCxFQUFRQyxLQUFSLEVBQWVDLEtBQWYsQ0FBckI7QUFFQSxNQUFNRSxVQUFVLEdBQUcsSUFBSWxCLFFBQVEsQ0FBQ1MsTUFBYixDQUFvQjtBQUNyQ0MsRUFBQUEsSUFBSSxFQUFFQyxNQUQrQjtBQUVyQ1EsRUFBQUEsS0FBSyxFQUFFLENBQUNYLFVBQUQ7QUFGOEIsQ0FBcEIsQ0FBbkI7QUFLQSxNQUFNWSxJQUFJLEdBQUdwQixRQUFRLENBQUNhLEtBQVQsQ0FBZSxNQUFmLEVBQXVCSyxVQUF2QixDQUFiLEMsQ0FFQTs7QUFFQWpCLEdBQUcsQ0FBQ29CLEdBQUosQ0FBUSxHQUFSLEVBQWEsVUFBU0MsR0FBVCxFQUFjQyxHQUFkLEVBQW1CO0FBRTlCWCxFQUFBQSxJQUFJLENBQUNZLElBQUwsQ0FBVSxVQUFTQyxHQUFULEVBQWNDLFVBQWQsRUFBMEI7QUFDbEMsUUFBSUEsVUFBVSxDQUFDQyxNQUFYLEtBQXNCLENBQTFCLEVBQTZCO0FBQzNCZixNQUFBQSxJQUFJLENBQUNnQixVQUFMLENBQWdCWCxZQUFoQixFQUE4QixVQUFTUSxHQUFULEVBQWM7QUFDMUMsWUFBSUEsR0FBSixFQUFTO0FBQ1BJLFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZTCxHQUFaO0FBQ0QsU0FGRCxNQUVPO0FBQ0xJLFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGFBQVo7QUFDRDtBQUNGLE9BTkQ7QUFPQVAsTUFBQUEsR0FBRyxDQUFDUSxRQUFKLENBQWEsR0FBYjtBQUNELEtBVEQsTUFTTztBQUNMUixNQUFBQSxHQUFHLENBQUNTLE1BQUosQ0FBVyxNQUFYLEVBQW1CO0FBQ2pCQyxRQUFBQSxTQUFTLEVBQUUsT0FETTtBQUVqQkMsUUFBQUEsWUFBWSxFQUFFUjtBQUZHLE9BQW5CO0FBSUQ7QUFDRixHQWhCRDtBQWtCRCxDQXBCRCxFLENBc0JBOztBQUNBekIsR0FBRyxDQUFDb0IsR0FBSixDQUFRLGtCQUFSLEVBQTRCLFVBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUM3QyxRQUFNWSxjQUFjLEdBQUdiLEdBQUcsQ0FBQ2MsTUFBSixDQUFXRCxjQUFsQztBQUVBZixFQUFBQSxJQUFJLENBQUNpQixPQUFMLENBQWE7QUFDWDNCLElBQUFBLElBQUksRUFBRXlCO0FBREssR0FBYixFQUVHLFVBQVNWLEdBQVQsRUFBY2EsU0FBZCxFQUF5QjtBQUMxQixRQUFJLENBQUNiLEdBQUwsRUFBVTtBQUNSLFVBQUksQ0FBQ2EsU0FBTCxFQUFnQjtBQUNkO0FBQ0EsY0FBTUMsSUFBSSxHQUFHLElBQUluQixJQUFKLENBQVM7QUFDcEJWLFVBQUFBLElBQUksRUFBRXlCLGNBRGM7QUFFcEJoQixVQUFBQSxLQUFLLEVBQUVGO0FBRmEsU0FBVCxDQUFiO0FBSUFzQixRQUFBQSxJQUFJLENBQUNDLElBQUw7QUFDQWpCLFFBQUFBLEdBQUcsQ0FBQ1EsUUFBSixDQUFhLE1BQU1JLGNBQW5CO0FBQ0QsT0FSRCxNQVFPO0FBQ0w7QUFDQVosUUFBQUEsR0FBRyxDQUFDUyxNQUFKLENBQVcsTUFBWCxFQUFtQjtBQUNqQkMsVUFBQUEsU0FBUyxFQUFFSyxTQUFTLENBQUM1QixJQURKO0FBRWpCd0IsVUFBQUEsWUFBWSxFQUFFSSxTQUFTLENBQUNuQjtBQUZQLFNBQW5CO0FBSUQ7QUFDRjtBQUNGLEdBcEJEO0FBdUJELENBMUJEO0FBNEJBbEIsR0FBRyxDQUFDd0MsSUFBSixDQUFTLEdBQVQsRUFBYyxVQUFTbkIsR0FBVCxFQUFjQyxHQUFkLEVBQW1CO0FBRS9CLFFBQU1tQixRQUFRLEdBQUdwQixHQUFHLENBQUNxQixJQUFKLENBQVNDLE9BQTFCLENBRitCLENBRy9COztBQUNBLFFBQU1DLFFBQVEsR0FBR3ZCLEdBQUcsQ0FBQ3FCLElBQUosQ0FBU0osSUFBMUI7QUFFQSxRQUFNTyxJQUFJLEdBQUcsSUFBSWxDLElBQUosQ0FBUztBQUNwQkYsSUFBQUEsSUFBSSxFQUFFZ0M7QUFEYyxHQUFULENBQWI7O0FBSUEsTUFBSUcsUUFBUSxLQUFLLE9BQWpCLEVBQTBCO0FBQ3hCQyxJQUFBQSxJQUFJLENBQUNOLElBQUw7QUFDQWpCLElBQUFBLEdBQUcsQ0FBQ1EsUUFBSixDQUFhLEdBQWI7QUFDRCxHQUhELE1BR087QUFDTFgsSUFBQUEsSUFBSSxDQUFDaUIsT0FBTCxDQUFhO0FBQ1gzQixNQUFBQSxJQUFJLEVBQUVtQztBQURLLEtBQWIsRUFFRyxVQUFTcEIsR0FBVCxFQUFjYSxTQUFkLEVBQXlCO0FBQzFCQSxNQUFBQSxTQUFTLENBQUNuQixLQUFWLENBQWdCNEIsSUFBaEIsQ0FBcUJELElBQXJCO0FBQ0FSLE1BQUFBLFNBQVMsQ0FBQ0UsSUFBVjtBQUNBakIsTUFBQUEsR0FBRyxDQUFDUSxRQUFKLENBQWEsTUFBTWMsUUFBbkI7QUFDRCxLQU5EO0FBT0Q7QUFDRixDQXRCRDtBQXlCQTVDLEdBQUcsQ0FBQ3dDLElBQUosQ0FBUyxTQUFULEVBQW9CLFVBQVNuQixHQUFULEVBQWNDLEdBQWQsRUFBbUI7QUFFckMsUUFBTXlCLGFBQWEsR0FBRzFCLEdBQUcsQ0FBQ3FCLElBQUosQ0FBU00sUUFBL0I7QUFDQSxRQUFNSixRQUFRLEdBQUd2QixHQUFHLENBQUNxQixJQUFKLENBQVNFLFFBQTFCOztBQUVBLE1BQUlBLFFBQVEsS0FBSyxPQUFqQixFQUEwQjtBQUN4QmpDLElBQUFBLElBQUksQ0FBQ3NDLGlCQUFMLENBQXVCRixhQUF2QixFQUFzQyxVQUFTdkIsR0FBVCxFQUFjO0FBQ2xELFVBQUksQ0FBQ0EsR0FBTCxFQUFVO0FBQ1JJLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJCQUFaO0FBQ0FQLFFBQUFBLEdBQUcsQ0FBQ1EsUUFBSixDQUFhLEdBQWI7QUFDRDtBQUNGLEtBTEQ7QUFNRCxHQVBELE1BT08sQ0FFTjtBQUlGLENBbEJELEUsQ0FvQkE7QUFDQTtBQUNBOztBQUVBOUIsR0FBRyxDQUFDb0IsR0FBSixDQUFRLFFBQVIsRUFBa0IsVUFBU0MsR0FBVCxFQUFjQyxHQUFkLEVBQW1CO0FBQ25DQSxFQUFBQSxHQUFHLENBQUNTLE1BQUosQ0FBVyxPQUFYO0FBQ0QsQ0FGRDtBQUlBL0IsR0FBRyxDQUFDa0QsTUFBSixDQUFXLElBQVgsRUFBaUIsWUFBVztBQUMxQnRCLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDZCQUFaO0FBQ0QsQ0FGRCIsInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXHJpY2FyXFxPbmVEcml2ZVxcUHJvZ3JhbW1pbmdcXEZ1bGxzdGFjayBBbmdlbGEgY291cnNlXFxQcm9qZWN0c1xcVE9ET0xJU1QtdjJcXCIsInNvdXJjZXNDb250ZW50IjpbIi8vanNoaW50IGVzdmVyc2lvbjo2XHJcblxyXG5jb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XHJcbmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7XHJcbmNvbnN0IG1vbmdvb3NlID0gcmVxdWlyZShcIm1vbmdvb3NlXCIpO1xyXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XHJcblxyXG5hcHAuc2V0KCd2aWV3IGVuZ2luZScsICdlanMnKTtcclxuXHJcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHtcclxuICBleHRlbmRlZDogdHJ1ZVxyXG59KSk7XHJcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMoXCJwdWJsaWNcIikpO1xyXG5cclxubW9uZ29vc2UuY29ubmVjdChcIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvdG9kb2xpc3REQlwiKTtcclxuXHJcbi8vY3JlYXRpbmcgU2NoZW1hXHJcbmNvbnN0IGl0ZW1TY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcclxuICBuYW1lOiBTdHJpbmdcclxufSk7XHJcbi8vY3JlYXRpbmcgbW9kZWxcclxuY29uc3QgSXRlbSA9IG1vbmdvb3NlLm1vZGVsKFwiSXRlbVwiLCBpdGVtU2NoZW1hKTtcclxuXHJcbmNvbnN0IGl0ZW0xID0gbmV3IEl0ZW0oe1xyXG4gIG5hbWU6IFwiV2VsY29tZSB0byB5b3VyIHRvIGRvIGxpc3QuXCJcclxufSk7XHJcblxyXG5jb25zdCBpdGVtMiA9IG5ldyBJdGVtKHtcclxuICBuYW1lOiBcIkhpdCB0aGUgKyBidXR0b24gdG8gYWRkIGEgbmV3IGl0ZW0uXCJcclxufSk7XHJcblxyXG5jb25zdCBpdGVtMyA9IG5ldyBJdGVtKHtcclxuICBuYW1lOiBcIkhpdCB0aGlzIHRvIGRlbGV0ZSBhbiBpdGVtXCJcclxufSk7XHJcblxyXG5jb25zdCBkZWZhdWx0SXRlbXMgPSBbaXRlbTEsIGl0ZW0yLCBpdGVtM107XHJcblxyXG5jb25zdCBsaXN0U2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgbmFtZTogU3RyaW5nLFxyXG4gIGl0ZW1zOiBbaXRlbVNjaGVtYV1cclxufSk7XHJcblxyXG5jb25zdCBMaXN0ID0gbW9uZ29vc2UubW9kZWwoXCJMaXN0XCIsIGxpc3RTY2hlbWEpO1xyXG5cclxuLy8gc2V0VGltZW91dCgoKSA9PiB7bW9uZ29vc2UuY29ubmVjdGlvbi5jbG9zZSgpfSwgMzAwMCk7XHJcblxyXG5hcHAuZ2V0KFwiL1wiLCBmdW5jdGlvbihyZXEsIHJlcykge1xyXG5cclxuICBJdGVtLmZpbmQoZnVuY3Rpb24oZXJyLCBmb3VuZEl0ZW1zKSB7XHJcbiAgICBpZiAoZm91bmRJdGVtcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgSXRlbS5pbnNlcnRNYW55KGRlZmF1bHRJdGVtcywgZnVuY3Rpb24oZXJyKSB7XHJcbiAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJJdGVtcyBhZGRlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXMucmVkaXJlY3QoXCIvXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzLnJlbmRlcihcImxpc3RcIiwge1xyXG4gICAgICAgIGxpc3RUaXRsZTogXCJUb2RheVwiLFxyXG4gICAgICAgIG5ld0xpc3RJdGVtczogZm91bmRJdGVtc1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbn0pO1xyXG5cclxuLy9jcmVhdGluZyByb3V0ZXMgYnkgY2FwdHVyaW5nIHJvdXRlIHBhcmFtZXRlcnNcclxuYXBwLmdldChcIi86Y3VzdG9tTGlzdE5hbWVcIiwgZnVuY3Rpb24ocmVxLCByZXMpIHtcclxuICBjb25zdCBjdXN0b21MaXN0TmFtZSA9IHJlcS5wYXJhbXMuY3VzdG9tTGlzdE5hbWU7XHJcblxyXG4gIExpc3QuZmluZE9uZSh7XHJcbiAgICBuYW1lOiBjdXN0b21MaXN0TmFtZVxyXG4gIH0sIGZ1bmN0aW9uKGVyciwgZm91bmRMaXN0KSB7XHJcbiAgICBpZiAoIWVycikge1xyXG4gICAgICBpZiAoIWZvdW5kTGlzdCkge1xyXG4gICAgICAgIC8vY3JlYXRlIGEgbmV3IGxpc3RcclxuICAgICAgICBjb25zdCBsaXN0ID0gbmV3IExpc3Qoe1xyXG4gICAgICAgICAgbmFtZTogY3VzdG9tTGlzdE5hbWUsXHJcbiAgICAgICAgICBpdGVtczogZGVmYXVsdEl0ZW1zXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdC5zYXZlKCk7XHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KFwiL1wiICsgY3VzdG9tTGlzdE5hbWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vc2hvdyBhbiBleGlzdGluZyBsaXN0XHJcbiAgICAgICAgcmVzLnJlbmRlcihcImxpc3RcIiwge1xyXG4gICAgICAgICAgbGlzdFRpdGxlOiBmb3VuZExpc3QubmFtZSxcclxuICAgICAgICAgIG5ld0xpc3RJdGVtczogZm91bmRMaXN0Lml0ZW1zXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcblxyXG59KTtcclxuXHJcbmFwcC5wb3N0KFwiL1wiLCBmdW5jdGlvbihyZXEsIHJlcykge1xyXG5cclxuICBjb25zdCBpdGVtTmFtZSA9IHJlcS5ib2R5Lm5ld0l0ZW07XHJcbiAgLy9hY2Nlc3MgdG8ga2lzdFRpdGxlIGJ5IGFkZGluZyBhICB2YWx1ZSB0byB0aGUgYnV0dG9uIHNlZSBsaXN0LmVqcyAxOVxyXG4gIGNvbnN0IGxpc3ROYW1lID0gcmVxLmJvZHkubGlzdDtcclxuXHJcbiAgY29uc3QgaXRlbSA9IG5ldyBJdGVtKHtcclxuICAgIG5hbWU6IGl0ZW1OYW1lLFxyXG4gIH0pO1xyXG5cclxuICBpZiAobGlzdE5hbWUgPT09IFwiVG9kYXlcIikge1xyXG4gICAgaXRlbS5zYXZlKCk7XHJcbiAgICByZXMucmVkaXJlY3QoXCIvXCIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBMaXN0LmZpbmRPbmUoe1xyXG4gICAgICBuYW1lOiBsaXN0TmFtZVxyXG4gICAgfSwgZnVuY3Rpb24oZXJyLCBmb3VuZExpc3QpIHtcclxuICAgICAgZm91bmRMaXN0Lml0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgIGZvdW5kTGlzdC5zYXZlKCk7XHJcbiAgICAgIHJlcy5yZWRpcmVjdChcIi9cIiArIGxpc3ROYW1lKTtcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG5cclxuYXBwLnBvc3QoXCIvZGVsZXRlXCIsIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XHJcblxyXG4gIGNvbnN0IGNoZWNrZWRJdGVtSWQgPSByZXEuYm9keS5jaGVja2JveDtcclxuICBjb25zdCBsaXN0TmFtZSA9IHJlcS5ib2R5Lmxpc3ROYW1lO1xyXG5cclxuICBpZiAobGlzdE5hbWUgPT09IFwiVG9kYXlcIikge1xyXG4gICAgSXRlbS5maW5kQnlJZEFuZFJlbW92ZShjaGVja2VkSXRlbUlkLCBmdW5jdGlvbihlcnIpIHtcclxuICAgICAgaWYgKCFlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlN1Y2Nlc3NmdWxseSByZW1vdmVkIGl0ZW1cIik7XHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KFwiL1wiKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgfVxyXG5cclxuXHJcblxyXG59KTtcclxuXHJcbi8vIGFwcC5nZXQoXCIvd29ya1wiLCBmdW5jdGlvbihyZXEsIHJlcykge1xyXG4vLyAgIHJlcy5yZW5kZXIoXCJsaXN0XCIsIHtsaXN0VGl0bGU6IFwiV29yayBMaXN0XCIsbmV3TGlzdEl0ZW1zOiB3b3JrSXRlbXN9KTtcclxuLy8gfSk7XHJcblxyXG5hcHAuZ2V0KFwiL2Fib3V0XCIsIGZ1bmN0aW9uKHJlcSwgcmVzKSB7XHJcbiAgcmVzLnJlbmRlcihcImFib3V0XCIpO1xyXG59KTtcclxuXHJcbmFwcC5saXN0ZW4oMzAwMCwgZnVuY3Rpb24oKSB7XHJcbiAgY29uc29sZS5sb2coXCJTZXJ2ZXIgc3RhcnRlZCBvbiBwb3J0IDMwMDBcIik7XHJcbn0pOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "express",
        "require",
        "bodyParser",
        "mongoose",
        "app",
        "set",
        "use",
        "urlencoded",
        "extended",
        "static",
        "connect",
        "itemSchema",
        "Schema",
        "name",
        "String",
        "Item",
        "model",
        "item1",
        "item2",
        "item3",
        "defaultItems",
        "listSchema",
        "items",
        "List",
        "get",
        "req",
        "res",
        "find",
        "err",
        "foundItems",
        "length",
        "insertMany",
        "console",
        "log",
        "redirect",
        "render",
        "listTitle",
        "newListItems",
        "customListName",
        "params",
        "findOne",
        "foundList",
        "list",
        "save",
        "post",
        "itemName",
        "body",
        "newItem",
        "listName",
        "item",
        "push",
        "checkedItemId",
        "checkbox",
        "findByIdAndRemove",
        "listen"
      ],
      "mappings": ";;AAAA;AAEA,MAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,aAAD,CAA1B;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMG,GAAG,GAAGJ,OAAO,EAAnB;AAEAI,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuB,KAAvB;AAEAD,GAAG,CAACE,GAAJ,CAAQJ,UAAU,CAACK,UAAX,CAAsB;AAC5BC,EAAAA,QAAQ,EAAE;AADkB,CAAtB,CAAR;AAGAJ,GAAG,CAACE,GAAJ,CAAQN,OAAO,CAACS,MAAR,CAAe,QAAf,CAAR;AAEAN,QAAQ,CAACO,OAAT,CAAiB,sCAAjB,E,CAEA;;AACA,MAAMC,UAAU,GAAG,IAAIR,QAAQ,CAACS,MAAb,CAAoB;AACrCC,EAAAA,IAAI,EAAEC;AAD+B,CAApB,CAAnB,C,CAGA;;AACA,MAAMC,IAAI,GAAGZ,QAAQ,CAACa,KAAT,CAAe,MAAf,EAAuBL,UAAvB,CAAb;AAEA,MAAMM,KAAK,GAAG,IAAIF,IAAJ,CAAS;AACrBF,EAAAA,IAAI,EAAE;AADe,CAAT,CAAd;AAIA,MAAMK,KAAK,GAAG,IAAIH,IAAJ,CAAS;AACrBF,EAAAA,IAAI,EAAE;AADe,CAAT,CAAd;AAIA,MAAMM,KAAK,GAAG,IAAIJ,IAAJ,CAAS;AACrBF,EAAAA,IAAI,EAAE;AADe,CAAT,CAAd;AAIA,MAAMO,YAAY,GAAG,CAACH,KAAD,EAAQC,KAAR,EAAeC,KAAf,CAArB;AAEA,MAAME,UAAU,GAAG,IAAIlB,QAAQ,CAACS,MAAb,CAAoB;AACrCC,EAAAA,IAAI,EAAEC,MAD+B;AAErCQ,EAAAA,KAAK,EAAE,CAACX,UAAD;AAF8B,CAApB,CAAnB;AAKA,MAAMY,IAAI,GAAGpB,QAAQ,CAACa,KAAT,CAAe,MAAf,EAAuBK,UAAvB,CAAb,C,CAEA;;AAEAjB,GAAG,CAACoB,GAAJ,CAAQ,GAAR,EAAa,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAE9BX,EAAAA,IAAI,CAACY,IAAL,CAAU,UAASC,GAAT,EAAcC,UAAd,EAA0B;AAClC,QAAIA,UAAU,CAACC,MAAX,KAAsB,CAA1B,EAA6B;AAC3Bf,MAAAA,IAAI,CAACgB,UAAL,CAAgBX,YAAhB,EAA8B,UAASQ,GAAT,EAAc;AAC1C,YAAIA,GAAJ,EAAS;AACPI,UAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ;AACD,SAFD,MAEO;AACLI,UAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACD;AACF,OAND;AAOAP,MAAAA,GAAG,CAACQ,QAAJ,CAAa,GAAb;AACD,KATD,MASO;AACLR,MAAAA,GAAG,CAACS,MAAJ,CAAW,MAAX,EAAmB;AACjBC,QAAAA,SAAS,EAAE,OADM;AAEjBC,QAAAA,YAAY,EAAER;AAFG,OAAnB;AAID;AACF,GAhBD;AAkBD,CApBD,E,CAsBA;;AACAzB,GAAG,CAACoB,GAAJ,CAAQ,kBAAR,EAA4B,UAASC,GAAT,EAAcC,GAAd,EAAmB;AAC7C,QAAMY,cAAc,GAAGb,GAAG,CAACc,MAAJ,CAAWD,cAAlC;AAEAf,EAAAA,IAAI,CAACiB,OAAL,CAAa;AACX3B,IAAAA,IAAI,EAAEyB;AADK,GAAb,EAEG,UAASV,GAAT,EAAca,SAAd,EAAyB;AAC1B,QAAI,CAACb,GAAL,EAAU;AACR,UAAI,CAACa,SAAL,EAAgB;AACd;AACA,cAAMC,IAAI,GAAG,IAAInB,IAAJ,CAAS;AACpBV,UAAAA,IAAI,EAAEyB,cADc;AAEpBhB,UAAAA,KAAK,EAAEF;AAFa,SAAT,CAAb;AAIAsB,QAAAA,IAAI,CAACC,IAAL;AACAjB,QAAAA,GAAG,CAACQ,QAAJ,CAAa,MAAMI,cAAnB;AACD,OARD,MAQO;AACL;AACAZ,QAAAA,GAAG,CAACS,MAAJ,CAAW,MAAX,EAAmB;AACjBC,UAAAA,SAAS,EAAEK,SAAS,CAAC5B,IADJ;AAEjBwB,UAAAA,YAAY,EAAEI,SAAS,CAACnB;AAFP,SAAnB;AAID;AACF;AACF,GApBD;AAuBD,CA1BD;AA4BAlB,GAAG,CAACwC,IAAJ,CAAS,GAAT,EAAc,UAASnB,GAAT,EAAcC,GAAd,EAAmB;AAE/B,QAAMmB,QAAQ,GAAGpB,GAAG,CAACqB,IAAJ,CAASC,OAA1B,CAF+B,CAG/B;;AACA,QAAMC,QAAQ,GAAGvB,GAAG,CAACqB,IAAJ,CAASJ,IAA1B;AAEA,QAAMO,IAAI,GAAG,IAAIlC,IAAJ,CAAS;AACpBF,IAAAA,IAAI,EAAEgC;AADc,GAAT,CAAb;;AAIA,MAAIG,QAAQ,KAAK,OAAjB,EAA0B;AACxBC,IAAAA,IAAI,CAACN,IAAL;AACAjB,IAAAA,GAAG,CAACQ,QAAJ,CAAa,GAAb;AACD,GAHD,MAGO;AACLX,IAAAA,IAAI,CAACiB,OAAL,CAAa;AACX3B,MAAAA,IAAI,EAAEmC;AADK,KAAb,EAEG,UAASpB,GAAT,EAAca,SAAd,EAAyB;AAC1BA,MAAAA,SAAS,CAACnB,KAAV,CAAgB4B,IAAhB,CAAqBD,IAArB;AACAR,MAAAA,SAAS,CAACE,IAAV;AACAjB,MAAAA,GAAG,CAACQ,QAAJ,CAAa,MAAMc,QAAnB;AACD,KAND;AAOD;AACF,CAtBD;AAyBA5C,GAAG,CAACwC,IAAJ,CAAS,SAAT,EAAoB,UAASnB,GAAT,EAAcC,GAAd,EAAmB;AAErC,QAAMyB,aAAa,GAAG1B,GAAG,CAACqB,IAAJ,CAASM,QAA/B;AACA,QAAMJ,QAAQ,GAAGvB,GAAG,CAACqB,IAAJ,CAASE,QAA1B;;AAEA,MAAIA,QAAQ,KAAK,OAAjB,EAA0B;AACxBjC,IAAAA,IAAI,CAACsC,iBAAL,CAAuBF,aAAvB,EAAsC,UAASvB,GAAT,EAAc;AAClD,UAAI,CAACA,GAAL,EAAU;AACRI,QAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACAP,QAAAA,GAAG,CAACQ,QAAJ,CAAa,GAAb;AACD;AACF,KALD;AAMD,GAPD,MAOO,CAEN;AAIF,CAlBD,E,CAoBA;AACA;AACA;;AAEA9B,GAAG,CAACoB,GAAJ,CAAQ,QAAR,EAAkB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACnCA,EAAAA,GAAG,CAACS,MAAJ,CAAW,OAAX;AACD,CAFD;AAIA/B,GAAG,CAACkD,MAAJ,CAAW,IAAX,EAAiB,YAAW;AAC1BtB,EAAAA,OAAO,CAACC,GAAR,CAAY,6BAAZ;AACD,CAFD",
      "sourceRoot": "C:\\Users\\ricar\\OneDrive\\Programming\\Fullstack Angela course\\Projects\\TODOLIST-v2\\",
      "sourcesContent": [
        "//jshint esversion:6\r\n\r\nconst express = require(\"express\");\r\nconst bodyParser = require(\"body-parser\");\r\nconst mongoose = require(\"mongoose\");\r\nconst app = express();\r\n\r\napp.set('view engine', 'ejs');\r\n\r\napp.use(bodyParser.urlencoded({\r\n  extended: true\r\n}));\r\napp.use(express.static(\"public\"));\r\n\r\nmongoose.connect(\"mongodb://localhost:27017/todolistDB\");\r\n\r\n//creating Schema\r\nconst itemSchema = new mongoose.Schema({\r\n  name: String\r\n});\r\n//creating model\r\nconst Item = mongoose.model(\"Item\", itemSchema);\r\n\r\nconst item1 = new Item({\r\n  name: \"Welcome to your to do list.\"\r\n});\r\n\r\nconst item2 = new Item({\r\n  name: \"Hit the + button to add a new item.\"\r\n});\r\n\r\nconst item3 = new Item({\r\n  name: \"Hit this to delete an item\"\r\n});\r\n\r\nconst defaultItems = [item1, item2, item3];\r\n\r\nconst listSchema = new mongoose.Schema({\r\n  name: String,\r\n  items: [itemSchema]\r\n});\r\n\r\nconst List = mongoose.model(\"List\", listSchema);\r\n\r\n// setTimeout(() => {mongoose.connection.close()}, 3000);\r\n\r\napp.get(\"/\", function(req, res) {\r\n\r\n  Item.find(function(err, foundItems) {\r\n    if (foundItems.length === 0) {\r\n      Item.insertMany(defaultItems, function(err) {\r\n        if (err) {\r\n          console.log(err);\r\n        } else {\r\n          console.log(\"Items added\");\r\n        }\r\n      });\r\n      res.redirect(\"/\");\r\n    } else {\r\n      res.render(\"list\", {\r\n        listTitle: \"Today\",\r\n        newListItems: foundItems\r\n      });\r\n    }\r\n  });\r\n\r\n});\r\n\r\n//creating routes by capturing route parameters\r\napp.get(\"/:customListName\", function(req, res) {\r\n  const customListName = req.params.customListName;\r\n\r\n  List.findOne({\r\n    name: customListName\r\n  }, function(err, foundList) {\r\n    if (!err) {\r\n      if (!foundList) {\r\n        //create a new list\r\n        const list = new List({\r\n          name: customListName,\r\n          items: defaultItems\r\n        });\r\n        list.save();\r\n        res.redirect(\"/\" + customListName);\r\n      } else {\r\n        //show an existing list\r\n        res.render(\"list\", {\r\n          listTitle: foundList.name,\r\n          newListItems: foundList.items\r\n        });\r\n      }\r\n    }\r\n  });\r\n\r\n\r\n});\r\n\r\napp.post(\"/\", function(req, res) {\r\n\r\n  const itemName = req.body.newItem;\r\n  //access to kistTitle by adding a  value to the button see list.ejs 19\r\n  const listName = req.body.list;\r\n\r\n  const item = new Item({\r\n    name: itemName,\r\n  });\r\n\r\n  if (listName === \"Today\") {\r\n    item.save();\r\n    res.redirect(\"/\");\r\n  } else {\r\n    List.findOne({\r\n      name: listName\r\n    }, function(err, foundList) {\r\n      foundList.items.push(item);\r\n      foundList.save();\r\n      res.redirect(\"/\" + listName);\r\n    });\r\n  }\r\n});\r\n\r\n\r\napp.post(\"/delete\", function(req, res) {\r\n\r\n  const checkedItemId = req.body.checkbox;\r\n  const listName = req.body.listName;\r\n\r\n  if (listName === \"Today\") {\r\n    Item.findByIdAndRemove(checkedItemId, function(err) {\r\n      if (!err) {\r\n        console.log(\"Successfully removed item\");\r\n        res.redirect(\"/\");\r\n      }\r\n    });\r\n  } else {\r\n\r\n  }\r\n\r\n\r\n\r\n});\r\n\r\n// app.get(\"/work\", function(req, res) {\r\n//   res.render(\"list\", {listTitle: \"Work List\",newListItems: workItems});\r\n// });\r\n\r\napp.get(\"/about\", function(req, res) {\r\n  res.render(\"about\");\r\n});\r\n\r\napp.listen(3000, function() {\r\n  console.log(\"Server started on port 3000\");\r\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1637669949361
  }
}